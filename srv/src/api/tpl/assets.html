{{ define "body" }}

{{ $csrfFormInput := .CSRFFormInput }}

<h2>Upload Asset</h2>

<p>
  If the given ID is the same as an existing asset's ID, then that asset will be
  overwritten.
</p>

<form action="{{ BlogURL "assets/" }}" method="POST" enctype="multipart/form-data">
  {{ $csrfFormInput }}
  <div class="row">
    <div class="four columns">
      <input type="text" placeholder="Unique ID" name="id" />
    </div>
    <div class="four columns">
      <input type="file" name="file" /><br/>
    </div>
    <div class="four columns">
      <input type="submit" value="Upload" />
    </div>
  </div>
</form>

<h2>Existing Assets</h2>

<table>

  {{ range .Payload.IDs }}
    <tr>
      <td><a href="{{ AssetURL . }}" target="_blank">{{ . }}</a></td>
      <td>
        <form
          action="{{ AssetURL . }}?method=delete"
          method="POST"
          style="margin-bottom: 0;"
          >
          {{ $csrfFormInput }}
          <input type="submit" value="Delete" />
        </form>
      </td>
    </tr>
  {{ end }}

</table>

{{ end }}

{{ template "base.html" . }}
